import{defineComponent as E,ref as p,resolveComponent as f,openBlock as w,createElementBlock as A,createElementVNode as e,withDirectives as c,vModelText as i,withKeys as D,createTextVNode as m,createVNode as h,withCtx as x,pushScopeId as g,popScopeId as b}from"https://esm.sh/vue@^3.2.41";import{u as y,M as F}from"./customer.143a0fc3.js";import{useRouter as M}from"https://esm.sh/vue-router@^4.1.6";import{_ as N}from"./index.b5b41545.js";import"https://esm.sh/pinia@^2.0.23";import"https://esm.sh/axios@^1.1.2";import"https://esm.run/js-sha256@^0.9.0";const s=a=>(g("data-v-84596527"),a=a(),b(),a),I={class:"main"},k={class:"register-view"},V=s(()=>e("p",{class:"title"},"\u8D26\u6237\u6CE8\u518C",-1)),P={class:"register-form"},S=s(()=>e("p",{class:"account-text"},"\u7528\u6237\u59D3\u540D",-1)),T=s(()=>e("p",{class:"id-number-text"},"\u8EAB\u4EFD\u8BC1\u53F7\u7801",-1)),U=s(()=>e("p",{class:"password-text"},"\u5BC6\u7801",-1)),R=s(()=>e("p",{class:"password-text2"},"\u786E\u8BA4\u5BC6\u7801",-1)),K=["onKeyup"],W={class:"back-text"},L=E({__name:"RegisterPage",setup(a){const v=M(),B=y(),r=p(""),l=p(""),o=p(""),n=p(""),_=async()=>{if(!r.value||!l.value||!o.value||!n.value){await alert(F.NAME_ID_NUM_PWD_NULL_OR_EMPTY);return}if(o.value!==n.value){await alert(F.ENTER_TWICE_PWD_MISMATCH);return}let d=await B.register({name:r.value,idNumber:l.value,password:o.value});d.code!==500&&(await alert("\u6CE8\u518C\u6210\u529F\uFF0C\u60A8\u7684\u8D26\u53F7\u4E3A\uFF1A"+d.data.accountId+"\uFF0C\u6B63\u5728\u4E3A\u60A8\u8DF3\u8F6C\u5230\u767B\u5F55\u754C\u9762..."),await v.push("/"))};return(d,u)=>{const C=f("router-link");return w(),A("div",I,[e("div",k,[V,e("form",P,[S,c(e("input",{"onUpdate:modelValue":u[0]||(u[0]=t=>r.value=t),type:"text",class:"account-bar",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D"},null,512),[[i,r.value]]),T,c(e("input",{"onUpdate:modelValue":u[1]||(u[1]=t=>l.value=t),type:"text",class:"id-number-bar",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u8EAB\u4EFD\u8BC1\u53F7\u7801"},null,512),[[i,l.value]]),U,c(e("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>o.value=t),type:"password",class:"password-bar",placeholder:"\u8BF7\u8BBE\u7F6E\u60A8\u7684\u5BC6\u7801",autocomplete:"off"},null,512),[[i,o.value]]),R,c(e("input",{"onUpdate:modelValue":u[3]||(u[3]=t=>n.value=t),onKeyup:D(_,["enter"]),type:"password",class:"password-bar2",placeholder:"\u8BF7\u518D\u6B21\u786E\u8BA4\u60A8\u7684\u5BC6\u7801",autocomplete:"off"},null,40,K),[[i,n.value]])]),e("button",{onClick:_,class:"register-button"},"\u6CE8\u518C"),e("p",W,[m(" \u5DF2\u6709\u8D26\u6237\uFF0C"),h(C,{to:"/"},{default:x(()=>[m("\u76F4\u63A5\u767B\u5F55")]),_:1})])])])}}});const J=N(L,[["__scopeId","data-v-84596527"]]);export{J as default};
