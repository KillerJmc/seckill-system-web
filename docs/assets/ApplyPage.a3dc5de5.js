import{u as T,b as O,a as $,M as m}from"./settings.7cadc75b.js";import{d as B,l as I,f as x,T as P,h as F,c as g,a as u,t as e,m as L,n as A,i as n,_ as w,o as M,r,e as D,u as N,p as R,j as V}from"./index.35ba865b.js";const U={key:0,class:"my-confirm"},Y={class:"confirm-content-wrap"},G={class:"my-confirm-title"},j={class:"my-confirm-content"},q={class:"my-operation"},z={class:"my-btn-text"},H={class:"my-btn-text my-border-right"},J=B({__name:"ConfirmDialog",props:{type:{type:String,default:"confirm"},title:{type:String,default:"\u64CD\u4F5C\u63D0\u793A"},content:{type:String,default:"\u786E\u5B9A\u5417\uFF1F"},cancelText:{type:String,default:"\u53D6\u6D88"},confirmText:{type:String,default:"\u786E\u8BA4"},show:{type:Boolean,default:!1}},emits:["confirm","update:show"],setup(o,{emit:a}){const f=()=>{a("confirm"),c()},c=()=>{a("update:show",!1)};return(d,_)=>(F(),I(P,{name:"confirm-fade"},{default:x(()=>[o.show?(F(),g("div",U,[u("div",Y,[u("h3",G,e(o.title),1),u("p",j,[L(d.$slots,"content",{},()=>[n(e(o.content),1)],!0)]),u("div",q,[u("div",{class:"confirm-btn",onClick:f},[u("p",z,e(o.confirmText),1)]),o.type==="confirm"?(F(),g("div",{key:0,class:"my-cancel-btn",onClick:c},[u("p",H,e(o.cancelText),1)])):A("",!0)])])])):A("",!0)]),_:3}))}});const C=w(J,[["__scopeId","data-v-012fca84"]]),s=o=>(R("data-v-10839f4e"),o=o(),V(),o),K={class:"main"},Q={class:"header"},W=s(()=>u("div",{class:"left-block"},null,-1)),X=s(()=>u("div",{class:"title"},[u("p",null,"Lingyuangou")],-1)),Z=s(()=>u("div",{class:"right-block"},null,-1)),uu={class:"account-bar"},eu=s(()=>u("div",{class:"account-info"},null,-1)),tu={class:"account-name"},su={class:"bg"},ou={class:"main-box"},lu={class:"seckill-title"},au={class:"seckill-time"},nu={class:"desc-box"},cu=s(()=>u("p",{class:"title"},"\u4EA7\u54C1\u7B80\u4ECB",-1)),iu={class:"desc"},ru={class:"rule-box"},du=s(()=>u("p",{class:"title"},"\u79D2\u6740\u89C4\u5219",-1)),_u={class:"rule"},pu=s(()=>u("br",null,null,-1)),vu=s(()=>u("br",null,null,-1)),mu=s(()=>u("br",null,null,-1)),Fu=s(()=>u("br",null,null,-1)),fu=s(()=>u("br",null,null,-1)),hu=s(()=>u("br",null,null,-1)),Eu={style:{"text-align":"left","padding-left":"70px"}},yu=s(()=>u("p",null,"\u7533\u8BF7\u4EBA\u5FC5\u987B\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6",-1)),gu=s(()=>u("br",null,null,-1)),Au=B({__name:"ApplyPage",setup(o){const a=N(),f=T(),c=O(),d=$();M(async()=>{d.verifyLogin()||(alert(m.NOT_LOGGED_ON),await a.push("/"));let y=await f.getInfo(),l=await c.getCurrent();(y.code===500||l.code===500)&&await a.push("/"),E.value=y.data,t.value=l.data});const _=r(!1),p=r(!1),h=r("");let i={};const E=r({}),t=r({product:{},rule:{}}),S=async()=>{if(!E.value.canApply){h.value=m.APPLY_FAILED,p.value=!0;return}i=await c.apply(),h.value=i.code===200?m.APPLY_SUCCESS:i.message,p.value=!0},b=async()=>{(i.code===200||i.message===m.APPLY_REPEAT)&&await a.push("/seckill")},k=async()=>{await d.logout(),await a.push("/")};return(y,l)=>(F(),g("div",K,[u("div",Q,[W,X,Z,u("div",uu,[eu,u("div",tu,[u("span",null,e(E.value.name),1)]),u("div",{class:"log-out",onClick:k},"\u9000\u51FA\u767B\u5F55")])]),u("div",su,[u("div",ou,[u("p",lu,e(t.value.product.name),1),u("p",au,"\u79D2\u6740\u5F00\u59CB\u65F6\u95F4\uFF1A"+e(t.value.startTime),1),u("button",{class:"button",onClick:l[0]||(l[0]=v=>_.value=!0)},"\u7533\u8BF7\u8D2D\u4E70")]),u("div",nu,[cu,u("p",iu,e(t.value.product.info),1)]),u("div",ru,[du,u("p",_u,[n(" \u662F\u5426\u9700\u8981\u6709\u5DE5\u4F5C\uFF1A\u2003\u2003\u2003 "+e(t.value.rule.workStatus?"\u662F":"\u5426")+" ",1),pu,n(" \u4E0D\u80FD\u5904\u4E8E\u5931\u4FE1\u540D\u5355\u4E2D\uFF1A\u2003 "+e(t.value.rule.inCreditBlacklist?"\u5426":"\u662F")+" ",1),vu,n(" \u5E74\u9F84\u9650\u5236\uFF1A\u2003\u2003\u2003\u2003\u2003\u2003 "+e(t.value.rule.minAge)+"~"+e(t.value.rule.maxAge)+"\u5C81 ",1),mu,n(" \u4E09\u5E74\u5185\u6700\u591A\u903E\u671F\u6B21\u6570\uFF1A\u2003 "+e(t.value.rule.maxOverdueTimes)+"\u6B21 ",1),Fu,n(" \u4E09\u5E74\u5185\u6700\u591A\u903E\u671F\u5929\u6570\uFF1A\u2003 "+e(t.value.rule.maxOverdueDays)+"\u5929 ",1),fu,n(" \u4E09\u5E74\u5185\u6700\u591A\u903E\u671F\u91D1\u989D\uFF1A\u2003 "+e(t.value.rule.maxOverdueMoney)+"\u5143 ",1),hu])])]),D(C,{title:"\u7533\u8BF7\u987B\u77E5",confirmText:"\u786E\u5B9A\u7533\u8BF7",show:_.value,"onUpdate:show":l[1]||(l[1]=v=>_.value=v),onConfirm:S},{content:x(()=>[u("div",Eu,[yu,gu,u("p",null,"\u662F\u5426\u9700\u8981\u6709\u5DE5\u4F5C\uFF1A"+e(t.value.rule.workStatus?"\u662F":"\u5426"),1),u("p",null,"\u4E0D\u80FD\u5904\u4E8E\u5931\u4FE1\u540D\u5355\u4E2D\uFF1A"+e(t.value.rule.inCreditBlacklist?"\u5426":"\u662F"),1),u("p",null,"\u5E74\u9F84\u9650\u5236\uFF1A"+e(t.value.rule.minAge)+"~"+e(t.value.rule.maxAge)+"\u5C81",1),u("p",null,"\u4E09\u5E74\u5185\u6700\u591A\u903E\u671F\u6B21\u6570\uFF1A"+e(t.value.rule.maxOverdueTimes)+"\u6B21",1),u("p",null,"\u4E09\u5E74\u5185\u6700\u591A\u903E\u671F\u5929\u6570\uFF1A"+e(t.value.rule.maxOverdueDays)+"\u5929",1),u("p",null,"\u4E09\u5E74\u5185\u6700\u591A\u903E\u671F\u91D1\u989D\uFF1A"+e(t.value.rule.maxOverdueMoney)+"\u5143",1)])]),_:1},8,["show"]),D(C,{title:"\u7533\u8BF7\u7ED3\u679C",type:"alert",content:h.value,show:p.value,"onUpdate:show":l[2]||(l[2]=v=>p.value=v),onConfirm:b},null,8,["content","show"])]))}});const Bu=w(Au,[["__scopeId","data-v-10839f4e"]]);export{Bu as default};
