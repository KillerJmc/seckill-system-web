import{d as w,o as E,r as c,c as b,a as e,w as p,v as d,b as g,i as F,e as A,f as D,u as h,g as x,h as y,p as M,j as N,_ as I}from"./index.35ba865b.js";import{u as R,a as S,M as _,V}from"./settings.7cadc75b.js";const o=r=>(M("data-v-34150bb6"),r=r(),N(),r),k={class:"main"},T={class:"register-view"},U=o(()=>e("p",{class:"title"},"\u8D26\u6237\u6CE8\u518C",-1)),P={class:"register-form"},K=o(()=>e("p",{class:"account-text"},"\u7528\u6237\u59D3\u540D",-1)),L=o(()=>e("p",{class:"id-number-text"},"\u8EAB\u4EFD\u8BC1\u53F7\u7801",-1)),O=o(()=>e("p",{class:"password-text"},"\u5BC6\u7801",-1)),W=o(()=>e("p",{class:"password-text2"},"\u786E\u8BA4\u5BC6\u7801",-1)),j=["onKeyup"],H={class:"back-text"},Y=w({__name:"RegisterPage",setup(r){const v=h(),B=R(),C=S();E(async()=>{C.verifyLogin()&&await v.push("/apply")});const l=c(""),s=c(""),a=c(""),n=c(""),m=async()=>{if(!l.value||!s.value||!a.value||!n.value){await alert(_.NAME_ID_NUM_PWD_NULL_OR_EMPTY);return}if(!V.validIdNum(s.value)){alert(_.ID_NUM_FORMAT_ERROR);return}if(a.value!==n.value){await alert(_.ENTER_TWICE_PWD_MISMATCH);return}let i=await B.register({name:l.value,idNumber:s.value,password:a.value});i.code===200?(await alert("\u6CE8\u518C\u6210\u529F\uFF0C\u60A8\u7684\u8D26\u53F7\u4E3A\uFF1A"+i.data.account+"\uFF0C\u6B63\u5728\u4E3A\u60A8\u8DF3\u8F6C\u5230\u767B\u5F55\u754C\u9762..."),await v.push("/")):await alert(i.message)};return(i,u)=>{const f=x("router-link");return y(),b("div",k,[e("div",T,[U,e("form",P,[K,p(e("input",{"onUpdate:modelValue":u[0]||(u[0]=t=>l.value=t),type:"text",class:"account-bar",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D"},null,512),[[d,l.value]]),L,p(e("input",{"onUpdate:modelValue":u[1]||(u[1]=t=>s.value=t),type:"text",class:"id-number-bar",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u8EAB\u4EFD\u8BC1\u53F7\u7801"},null,512),[[d,s.value]]),O,p(e("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>a.value=t),type:"password",class:"password-bar",placeholder:"\u8BF7\u8BBE\u7F6E\u60A8\u7684\u5BC6\u7801",autocomplete:"off"},null,512),[[d,a.value]]),W,p(e("input",{"onUpdate:modelValue":u[3]||(u[3]=t=>n.value=t),onKeyup:g(m,["enter"]),type:"password",class:"password-bar2",placeholder:"\u8BF7\u518D\u6B21\u786E\u8BA4\u60A8\u7684\u5BC6\u7801",autocomplete:"off"},null,40,j),[[d,n.value]])]),e("button",{onClick:m,class:"register-button"},"\u6CE8\u518C"),e("p",H,[F(" \u5DF2\u6709\u8D26\u6237\uFF0C"),A(f,{to:"/"},{default:D(()=>[F("\u76F4\u63A5\u767B\u5F55")]),_:1})])])])}}});const G=I(Y,[["__scopeId","data-v-34150bb6"]]);export{G as default};
